# cor-js

基于Promise、async、await等异步特性，实现了协程，兼容web、node

使用如下

```js
const { Coroutine } = require('cor-js');

const cor1 = new Coroutine(async ({
    coSwitch, sleep, park
}) => {
    let i = 0;
    while (true) {
        console.log(i++);
        await sleep(1000); // 阻塞1000ms
        if(i === 10){
            await park(); // 停止，永久阻塞
        }
    }
}, {
    isStart: true
});

const cor2 = new Coroutine(async ({
    coSwitch, sleep
}) => {
    let i = 0;
    while (true) {
        console.log(i++);
        await coSwitch(); // 切换协程，交还调度权，若调用了sleep或park可省略
    }
});

cor2.start();
```
